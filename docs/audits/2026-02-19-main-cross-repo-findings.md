# ImageForge + ImageForge-Site Main-Branch Re-Audit

**Audit date (UTC):** 2026-02-20  
**Baseline for delta:** 2026-02-15 audit snapshot provided in-thread  
**CLI repo (main):** `/Users/fabiencampana/Documents/ImageForge` @ `c0ecd1ad085f008df4be95804a907b909457f760`  
**Site repo (main):** `/Users/fabiencampana/Documents/imageforge-site` @ `fdf1dcf91cbfc765fd5e53a0128e9328fc7d544e`  
**Site evidence collection path:** `/Users/fabiencampana/Documents/imageforge-site`  
**Progress update (UTC):** 2026-02-20

## Validation Runs (Timestamped)

| Timestamp (UTC)                              | Repo            | Command                                                                         | Result                      | Notes                                                                          |
| -------------------------------------------- | --------------- | ------------------------------------------------------------------------------- | --------------------------- | ------------------------------------------------------------------------------ |
| 2026-02-20T14:25:11Z                         | imageforge      | `pnpm run check`                                                                | ✅ Pass                     | Includes typecheck, lint, format, and 100 passing unit/integration tests       |
| 2026-02-20T14:25:24Z                         | imageforge      | `pnpm run test:e2e`                                                             | ✅ Pass                     | Packaged install + `npx imageforge` flow passed                                |
| 2026-02-20T14:27:20Z                         | imageforge      | `node scripts/security/check-workflow-action-pinning.mjs`                       | ✅ Pass                     | All workflow files pass SHA-pinning policy after benchmark workflow pin fix    |
| 2026-02-20T14:25:44Z                         | imageforge-site | `pnpm run check:ci`                                                             | ✅ Pass                     | Lint, typecheck, format, build, SEO tests/check passed                         |
| 2026-02-20T14:26:22Z                         | imageforge-site | `pnpm run audit:prod:reliable`                                                  | ✅ Pass                     | Primary pnpm audit succeeded; retry/fallback wrapper active                    |
| 2026-02-20T14:26:42Z                         | imageforge-site | `pnpm run test:e2e`                                                             | ✅ Pass                     | Playwright smoke suite passed, including security-header assertions            |
| 2026-02-19T16:07:58Z                         | imageforge      | `pnpm test`                                                                     | ✅ Pass                     | 89 tests passed (`tests/imageforge.test.ts` + `tests/benchmark-tools.test.ts`) |
| 2026-02-19T16:07:58Z                         | imageforge      | `pnpm run test:e2e`                                                             | ✅ Pass                     | Tarball install + `npx imageforge` flow passed                                 |
| 2026-02-19T16:08:12Z                         | imageforge      | `pnpm run check`                                                                | ❌ Fail                     | `format:check` failed on 17 markdown/docs files                                |
| 2026-02-19T16:07:23Z                         | imageforge      | `pnpm audit --prod --audit-level=high`                                          | ✅ Pass                     | No known vulnerabilities found                                                 |
| 2026-02-19T16:07:35Z                         | imageforge-site | `pnpm run check:ci`                                                             | ✅ Pass                     | Lint, typecheck, format, build, SEO tests/check passed                         |
| 2026-02-19T16:07:28Z                         | imageforge-site | `NEXT_PUBLIC_SITE_URL=https://example.com SEO_MODE=advisory pnpm run seo:check` | ✅ Pass (advisory warnings) | Summary: critical=0, high=1, medium=1, score=85                                |
| 2026-02-19T16:08:21Z                         | imageforge-site | `pnpm run benchmark:test`                                                       | ✅ Pass                     | 1 benchmark ingestion test passed                                              |
| 2026-02-19T16:08:28Z to 2026-02-19T16:10:00Z | imageforge-site | `pnpm run animation:check`                                                      | ✅ Pass                     | Canonical + fixture matrix and safety assertions passed                        |
| 2026-02-19T16:05:23Z                         | imageforge-site | `pnpm audit --prod --audit-level=high`                                          | ❌ Infra fail               | npm audit endpoint returned 500 (`ERR_PNPM_AUDIT_BAD_RESPONSE`)                |
| 2026-02-19T23:37:44Z                         | imageforge-site | `GitHub Actions: animation-safety`                                              | ✅ Pass                     | PR #28 required safety gate remained green                                     |
| 2026-02-19T23:37:57Z                         | imageforge-site | `GitHub Actions: quality-gates-advisory`                                        | ✅ Pass (advisory)          | Unit, E2E, visual, and LHCI advisory stack executed with artifacts             |

## Delta Summary (vs 2026-02-15)

- `New`: **4**
- `Changed`: **4**
- `Unchanged`: **7**
- `Resolved`: **18**

### Notable shifts since last audit

1. Site now has production analytics wiring and benchmark evidence pages backed by synced snapshots.
2. Animation safety checks are runnable and passing in canonical and fixture modes.
3. Phase 1 hardening resolved benchmark source integrity, release immutability enforcement, and sync-token exposure risks.
4. Phase 2 resolved CLI module/runtime contract fragility by moving to ESM-primary packaging with dual export conditions.
5. Phase 2 resolved missing public runner API by shipping stable `@imageforge/cli/runner` with import/require matrix coverage.
6. Phase 3 resolved site UI/motion regression gaps by adding advisory Vitest, Playwright E2E/visual, and LHCI quality gates.
7. Phase 4 restored CI health on both repos and stabilized benchmark-sync formatting with fail-closed producer normalization.
8. Phase 5 added runtime safety hardening (sanitized CLI path logging + chunked hashing) and resolved site header/dependency hardening.
9. Cross-repo workflow action pinning is now enforced via CI policy checks in both repositories.
10. Site production dependency audit is now deterministic with retry + OSV fallback and fail-closed behavior.

## Animation Quality Tooling Addendum (Implemented in Phase 3, Advisory Mode)

| Decision                                                   | Status      | Scope                                            | Initial Gate Mode            | Evidence                                                                                                                                                                           |
| ---------------------------------------------------------- | ----------- | ------------------------------------------------ | ---------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Add Lighthouse CI (`@lhci/cli`) for LCP/INP/CLS lab checks | Implemented | `/`, `/benchmarks/latest` quality trends         | Non-blocking                 | `/Users/fabiencampana/Documents/imageforge-site/lighthouserc.json:4`; `/Users/fabiencampana/Documents/imageforge-site/.github/workflows/quality-gates.yml:69`                      |
| Add Playwright visual diff snapshots (targeted states)     | Implemented | Hero/install and benchmark summary surfaces      | Non-blocking                 | `/Users/fabiencampana/Documents/imageforge-site/tests/visual/landing.visual.spec.ts:15`; `/Users/fabiencampana/Documents/imageforge-site/tests/visual/benchmark.visual.spec.ts:15` |
| Add Vitest baseline for unit/integration tests             | Implemented | Hooks/config/utils and practical component logic | Non-blocking at introduction | `/Users/fabiencampana/Documents/imageforge-site/package.json:14`; `/Users/fabiencampana/Documents/imageforge-site/tests/unit/components/landing/InstallCommands.test.tsx:11`       |
| Expand Playwright E2E coverage                             | Implemented | `/` and `/benchmarks/latest` interaction smoke   | Non-blocking initially       | `/Users/fabiencampana/Documents/imageforge-site/package.json:16`; `/Users/fabiencampana/Documents/imageforge-site/tests/e2e/landing-and-benchmark.smoke.spec.ts:3`                 |
| Defer Storybook and `vdiff` in CI                          | Deferred    | Optional workflow tooling                        | N/A                          | No Storybook/vdiff workflow added; advisory quality stack runs in `/Users/fabiencampana/Documents/imageforge-site/.github/workflows/quality-gates.yml:1`                           |

## Consolidated Findings Table

| ID                | Repo                         | Domain                          | Severity | DeltaStatus | Finding                                                                                                                                                            | Evidence                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | Impact                                                                                                 | Recommendation                                                                                                                | Owner                    | Verification                                                                                                            |
| ----------------- | ---------------------------- | ------------------------------- | -------- | ----------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------ | ----------------------------------------------------------------------------------------------------------------------------- | ------------------------ | ----------------------------------------------------------------------------------------------------------------------- |
| IF-CLI-SEC-001    | imageforge                   | Module System                   | Critical | Resolved    | Resolved in Phase 2: package is now ESM-primary with explicit dual `import`/`require` export conditions and dual build outputs.                                    | `/Users/fabiencampana/Documents/ImageForge/package.json:15`; `/Users/fabiencampana/Documents/ImageForge/package.json:22`; `/Users/fabiencampana/Documents/ImageForge/tsconfig.json:4`; `/Users/fabiencampana/Documents/ImageForge/tests/imageforge.test.ts:1785`; `/Users/fabiencampana/Documents/ImageForge/tests/packaged-install.e2e.test.ts:96`                                                                                                                           | Consumer module loading contract is now explicit and validated across ESM/CJS entry points.            | Keep the dual-build/export matrix and preserve import/require compatibility tests in CI.                                      | CLI Core                 | `pnpm run check`; `pnpm run test:e2e`; manual `node -e` require + `node --input-type=module -e` import matrix checks    |
| IF-CLI-MAINT-002  | imageforge                   | Runtime Policy                  | Medium   | Unchanged   | Engine is still hard-pinned to Node `>=22`.                                                                                                                        | `/Users/fabiencampana/Documents/ImageForge/package.json:94`; `/Users/fabiencampana/Documents/ImageForge/README.md:55`                                                                                                                                                                                                                                                                                                                                                         | Excludes Node 20 users despite no hard technical necessity in current code paths.                      | Re-evaluate support policy and test matrix (`20/22/24`) before next release.                                                  | CLI Core                 | Update CI matrix then run `pnpm run check && pnpm run test:e2e` across matrix                                           |
| IF-CLI-DX-003     | imageforge                   | Public API / DX                 | Medium   | Resolved    | Resolved in Phase 2: stable runner API is now exported on `@imageforge/cli/runner` (subpath-only contract).                                                        | `/Users/fabiencampana/Documents/ImageForge/package.json:33`; `/Users/fabiencampana/Documents/ImageForge/src/runner.ts:684`; `/Users/fabiencampana/Documents/ImageForge/tests/imageforge.test.ts:1785`; `/Users/fabiencampana/Documents/ImageForge/tests/packaged-install.e2e.test.ts:99`; `/Users/fabiencampana/Documents/ImageForge/README.md:268`                                                                                                                           | Programmatic integrations can call the full pipeline runner without shelling out.                      | Maintain SemVer stability of `@imageforge/cli/runner`; keep root surface intentionally runner-free and documented.            | CLI Core                 | `pnpm run check`; `pnpm run test:e2e`; verify root export does not include `runImageforge` while runner subpath does    |
| IF-CLI-DX-004     | imageforge                   | CLI UX                          | Medium   | Unchanged   | Still no `--dry-run`, include/exclude globs, or `init` scaffold workflow.                                                                                          | `/Users/fabiencampana/Documents/ImageForge/src/cli.ts:340`; `/Users/fabiencampana/Documents/ImageForge/src/config.ts:29`                                                                                                                                                                                                                                                                                                                                                      | Slower onboarding and harder selective processing in mixed asset directories.                          | Add staged DX commands/flags (`--dry-run`, `--include`, `--exclude`, `imageforge init`).                                      | CLI Product              | CLI integration tests for each new flag/command                                                                         |
| IF-CLI-PROD-005   | imageforge                   | Feature Scope                   | Medium   | Unchanged   | Source discovery still excludes `webp`, `avif`, and `svg` inputs.                                                                                                  | `/Users/fabiencampana/Documents/ImageForge/src/processor.ts:48`; `/Users/fabiencampana/Documents/ImageForge/README.md:275`                                                                                                                                                                                                                                                                                                                                                    | Limits migration paths for teams with modern source assets.                                            | Add explicit input-format roadmap (or implementation) with compatibility notes.                                               | CLI Product              | Add discovery + conversion tests for newly supported formats                                                            |
| IF-CLI-MAINT-006  | imageforge                   | Maintainability                 | Medium   | Unchanged   | Critical files remain monolithic (`runner.ts` 1114 lines; `imageforge.test.ts` 1819 lines).                                                                        | `/Users/fabiencampana/Documents/ImageForge/src/runner.ts:1114`; `/Users/fabiencampana/Documents/ImageForge/tests/imageforge.test.ts:1819`                                                                                                                                                                                                                                                                                                                                     | Raises regression risk and slows safe refactors.                                                       | Split runner into cache/preflight/report modules and split test suites by domain.                                             | CLI Core                 | Refactor PR with unchanged behavior + full test pass                                                                    |
| IF-CLI-TEST-007   | imageforge                   | Validation Depth                | Medium   | Changed     | Coverage improved (benchmark tests added), but runner edge-case internals remain under-tested.                                                                     | `/Users/fabiencampana/Documents/ImageForge/tests/benchmark-tools.test.ts:128`; `/Users/fabiencampana/Documents/ImageForge/src/runner.ts:387`; `/Users/fabiencampana/Documents/ImageForge/tests/imageforge.test.ts:508`                                                                                                                                                                                                                                                        | Lock/atomic-write/preflight edge regressions can escape detection.                                     | Add unit-level tests for `saveCacheAtomic` failure cleanup, preflight corrupt-with-widths, and invalid orientation branches.  | CLI QA                   | New focused tests + `pnpm test`                                                                                         |
| IF-CLI-TEST-008   | imageforge                   | E2E Coverage                    | Low      | Changed     | `npx` path testing improved, but still only after local install from tarball.                                                                                      | `/Users/fabiencampana/Documents/ImageForge/tests/packaged-install.e2e.test.ts:74`                                                                                                                                                                                                                                                                                                                                                                                             | One-shot remote `npx @imageforge/cli` resolution path remains unverified.                              | Add isolated E2E for direct package execution without pre-install.                                                            | CLI QA                   | Extend `tests/packaged-install.e2e.test.ts`                                                                             |
| IF-CLI-SEC-009    | imageforge                   | Output Safety                   | Medium   | Resolved    | Resolved in Phase 5: terminal-facing file path and error output now sanitize control characters before rendering.                                                  | `/Users/fabiencampana/Documents/ImageForge/src/runner.ts:146`; `/Users/fabiencampana/Documents/ImageForge/src/runner.ts:910`; `/Users/fabiencampana/Documents/ImageForge/tests/imageforge.test.ts:1355`                                                                                                                                                                                                                                                                       | Crafted filenames can no longer inject raw ANSI/control sequences into CLI output streams.             | Keep sanitization on all user-facing logs and preserve regression tests for escaped output behavior.                          | CLI Security             | `pnpm run check`; verify `--check sanitizes control characters in logged file paths` test                               |
| IF-CLI-SEC-010    | imageforge                   | Resource Safety                 | Medium   | Resolved    | Resolved in Phase 5: file hashing moved from full-buffer `readFileSync` to chunked sync reads with constant memory footprint.                                      | `/Users/fabiencampana/Documents/ImageForge/src/processor.ts:47`; `/Users/fabiencampana/Documents/ImageForge/src/processor.ts:113`; `/Users/fabiencampana/Documents/ImageForge/tests/imageforge.test.ts:398`                                                                                                                                                                                                                                                                   | Large-file hashing no longer requires loading the entire file in memory before digesting.              | Retain chunked hash implementation and keep large-file regression test coverage.                                              | CLI Core                 | `pnpm run check`; verify `hashes large files correctly with chunked reads` test                                         |
| IF-CLI-BENCH-011  | imageforge                   | Benchmark Integrity             | High     | Resolved    | Resolved in Phase 1: enabled benchmark sources are pinned and source fetch is fail-closed by default.                                                              | `/Users/fabiencampana/Documents/ImageForge/scripts/bench/dataset-sources.json:12`; `/Users/fabiencampana/Documents/ImageForge/scripts/bench/fetch-sources.mjs:58`; `/Users/fabiencampana/Documents/ImageForge/scripts/bench/fetch-sources.mjs:139`; `/Users/fabiencampana/Documents/ImageForge/scripts/bench/fetch-sources.mjs:228`                                                                                                                                           | Open-license source provenance and availability are now enforced by default during dataset fetch.      | Keep source hashes pinned and use waiver flags only for controlled recovery scenarios.                                        | CLI Benchmark            | `pnpm run bench:dataset:fetch -- --sources-file <fixture-with-missing-sha> --out-dir <tmp>` (expects exit 1)            |
| IF-CLI-BENCH-012  | imageforge                   | Benchmark Governance            | High     | Resolved    | Resolved in Phase 1: dataset release flow enforces immutable tags and create-only publishing.                                                                      | `/Users/fabiencampana/Documents/ImageForge/.github/workflows/benchmark-dataset-release.yml:50`; `/Users/fabiencampana/Documents/ImageForge/.github/workflows/benchmark-dataset-release.yml:89`; `/Users/fabiencampana/Documents/ImageForge/scripts/bench/assert-dataset-tag-absent.mjs:39`; `/Users/fabiencampana/Documents/ImageForge/docs/benchmark/DATASET_POLICY.md:33`                                                                                                   | Existing benchmark dataset tags and release assets cannot be overwritten in place.                     | Continue semantic version bumps for any dataset content change.                                                               | CLI Benchmark + Release  | `node scripts/bench/assert-dataset-tag-absent.mjs --repo f-campana/imageforge --dataset-version 1.0.0` (expects exit 1) |
| IF-CLI-BENCH-013  | imageforge                   | Benchmark Gating                | Medium   | New         | Benchmark regression checks are advisory-only and never fail CI.                                                                                                   | `/Users/fabiencampana/Documents/ImageForge/docs/benchmark/STANDARD.md:11`; `/Users/fabiencampana/Documents/ImageForge/.github/workflows/benchmark-ci.yml:207`                                                                                                                                                                                                                                                                                                                 | Performance regressions can merge without an explicit exception workflow.                              | Add configurable strict mode for release branches/tags.                                                                       | CLI Benchmark            | Add workflow input for strict gating and test both modes                                                                |
| IF-CLI-SEC-014    | imageforge                   | Secret Handling                 | High     | Resolved    | Resolved in Phase 1: benchmark sync now avoids tokenized git URLs and redacts failure output.                                                                      | `/Users/fabiencampana/Documents/ImageForge/scripts/bench/sync-site-benchmark.mjs:282`; `/Users/fabiencampana/Documents/ImageForge/scripts/bench/sync-site-benchmark.mjs:78`; `/Users/fabiencampana/Documents/ImageForge/scripts/bench/sync-site-benchmark.mjs:25`; `/Users/fabiencampana/Documents/ImageForge/scripts/bench/sync-site-benchmark.mjs:398`; `/Users/fabiencampana/Documents/ImageForge/tests/benchmark-tools.test.ts:697`                                       | Token leakage risk in git command arguments and failure logs is significantly reduced.                 | Retain redaction coverage tests for future sync-script changes.                                                               | CLI Security             | `pnpm exec vitest run tests/benchmark-tools.test.ts --reporter verbose`                                                 |
| IF-CLI-MAINT-015  | imageforge                   | Code Hygiene                    | Low      | Unchanged   | Duplicate helper/constants remain (`isRecord`, `LIMIT_INPUT_PIXELS`).                                                                                              | `/Users/fabiencampana/Documents/ImageForge/src/config.ts:46`; `/Users/fabiencampana/Documents/ImageForge/src/cli.ts:47`; `/Users/fabiencampana/Documents/ImageForge/src/runner.ts:146`; `/Users/fabiencampana/Documents/ImageForge/src/processor.ts:45`                                                                                                                                                                                                                       | Increases drift probability during future edits.                                                       | Centralize shared guards/constants.                                                                                           | CLI Core                 | Typecheck + full test run after extraction                                                                              |
| IF-CLI-MAINT-016  | imageforge                   | Release Automation              | Low      | Resolved    | Release Please manifest is now tracked and wired.                                                                                                                  | `/Users/fabiencampana/Documents/ImageForge/.release-please-manifest.json:1`; `/Users/fabiencampana/Documents/ImageForge/.github/workflows/release-please.yml:21`                                                                                                                                                                                                                                                                                                              | Prior configuration ambiguity removed.                                                                 | Keep manifest updates automated via Release Please.                                                                           | CLI Release              | Release Please dry run in CI                                                                                            |
| IF-SITE-PROD-017  | imageforge-site              | Product/Claims                  | Low      | New         | Benchmark evidence now has a dedicated route and synced latest snapshot data.                                                                                      | `/Users/fabiencampana/Documents/imageforge-site/app/benchmarks/latest/page.tsx:19`; `/Users/fabiencampana/Documents/imageforge-site/data/benchmarks/latest.json:16`                                                                                                                                                                                                                                                                                                           | Stronger claim traceability between marketing and benchmark evidence.                                  | Continue approval-gated snapshot sync and stale-data alerts.                                                                  | Site Product + Benchmark | `pnpm run benchmark:test` + route render check                                                                          |
| IF-SITE-PROD-018  | imageforge-site              | Analytics                       | Low      | Resolved    | Analytics and speed insights are now implemented with opt-out controls.                                                                                            | `/Users/fabiencampana/Documents/imageforge-site/app/layout.tsx:81`; `/Users/fabiencampana/Documents/imageforge-site/components/analytics/VercelAnalytics.tsx:23`; `/Users/fabiencampana/Documents/imageforge-site/lib/analytics/browser-opt-out.ts:1`                                                                                                                                                                                                                         | Previous “no analytics” gap is closed.                                                                 | Add event-level tests once custom events are enabled.                                                                         | Site Growth              | Manual telemetry opt-out/on check (`?analytics=off/on`)                                                                 |
| IF-SITE-MAINT-019 | imageforge-site              | Dependency Surface              | Medium   | Resolved    | Resolved in Phase 5: `googleapis` was moved out of production dependencies into `devDependencies` for script-only usage.                                           | `/Users/fabiencampana/Documents/imageforge-site/package.json:47`; `/Users/fabiencampana/Documents/imageforge-site/package.json:59`; `/Users/fabiencampana/Documents/imageforge-site/scripts/seo/gsc.mjs:1`                                                                                                                                                                                                                                                                    | Production install surface is reduced while preserving SEO tooling functionality.                      | Keep script-only packages in `devDependencies` and validate with CI install/build/SEO script runs.                            | Site Platform            | `pnpm run check:ci`; `pnpm run seo:test`                                                                                |
| IF-SITE-PROD-020  | imageforge-site              | Claim Freshness                 | Medium   | Unchanged   | Pricing “as-of” constants are still hardcoded to Feb 11, 2026.                                                                                                     | `/Users/fabiencampana/Documents/imageforge-site/components/landing/constants.ts:70`; `/Users/fabiencampana/Documents/imageforge-site/components/landing/ComparisonAndCost.tsx:52`                                                                                                                                                                                                                                                                                             | Risk of stale pricing claims over time.                                                                | Make freshness checks blocking for aged claim timestamps.                                                                     | Site Product + Growth    | Scheduled check that fails if staleness threshold exceeded                                                              |
| IF-SITE-TEST-021  | imageforge-site              | UI Validation                   | High     | Resolved    | Resolved in Phase 3: site now has Vitest component/hook tests, Playwright E2E smoke, and visual regression snapshots in advisory CI.                               | `/Users/fabiencampana/Documents/imageforge-site/package.json:14`; `/Users/fabiencampana/Documents/imageforge-site/tests/unit/components/landing/InstallCommands.test.tsx:11`; `/Users/fabiencampana/Documents/imageforge-site/tests/unit/components/landing/CopyButton.test.tsx:8`; `/Users/fabiencampana/Documents/imageforge-site/tests/e2e/landing-and-benchmark.smoke.spec.ts:3`; `/Users/fabiencampana/Documents/imageforge-site/.github/workflows/quality-gates.yml:42` | Primary UI interaction regressions now have automated detection before merge.                          | Keep suites green, monitor flake, and promote stable checks to stricter policy only after sustained signal quality.           | Site Frontend QA         | `pnpm test:unit`; `pnpm test:e2e`; `pnpm test:visual`; GitHub check `quality-gates-advisory` on PR #28                  |
| IF-SITE-UX-022    | imageforge-site              | UX/A11y/Motion                  | Low      | New         | Animation safety checks are operational and passing in canonical + fixture modes.                                                                                  | `/Users/fabiencampana/Documents/imageforge-site/scripts/animation/run-check.sh:79`; `/Users/fabiencampana/Documents/imageforge-site/scripts/animation/assert-core-safety.mts:86`; `/tmp/imageforge-audit/site-main-2xX1Hb/.tmp/animation/matrix-fixture.json:2`                                                                                                                                                                                                               | Reduced-motion/overflow/critical-content safety is now continuously validated.                         | Keep core gates strict and maintain advisory density audits.                                                                  | Site UX                  | `pnpm run animation:check`                                                                                              |
| IF-SITE-SEO-023   | imageforge-site              | SEO Tooling Quality             | Medium   | New         | H1 audit rule counts all app/component files globally, causing noisy high warning by design.                                                                       | `/Users/fabiencampana/Documents/imageforge-site/scripts/seo/technical.mjs:362`; `/Users/fabiencampana/Documents/imageforge-site/scripts/seo/technical.mjs:387`; `/tmp/imageforge-audit/site-main-2xX1Hb/.tmp/seo/report.json:94`                                                                                                                                                                                                                                              | Reduces signal quality of SEO gate and can hide true regressions.                                      | Scope H1 check per route render output, not source-text global count.                                                         | Site SEO                 | `pnpm run seo:check` should only warn on true route-level H1 violations                                                 |
| IF-SITE-SEO-024   | imageforge-site              | SEO Signal Noise                | Low      | Changed     | `check:ci` runs with `NEXT_PUBLIC_SITE_URL=https://example.com`, creating predictable off-page metadata warning noise.                                             | `/Users/fabiencampana/Documents/imageforge-site/package.json:14`; `/tmp/imageforge-audit/site-main-2xX1Hb/.tmp/seo/report.json:182`                                                                                                                                                                                                                                                                                                                                           | Advisory output includes environment-induced warnings unrelated to production quality.                 | Use dedicated CI mode that skips public HTML metadata checks for placeholder domains.                                         | Site SEO                 | `pnpm run check:ci` with CI-mode guard                                                                                  |
| IF-SITE-SEC-025   | imageforge-site              | Web Security Hardening          | Medium   | Resolved    | Resolved in Phase 5: baseline security headers are explicitly configured and covered by E2E assertions on key routes.                                              | `/Users/fabiencampana/Documents/imageforge-site/next.config.ts:3`; `/Users/fabiencampana/Documents/imageforge-site/next.config.ts:37`; `/Users/fabiencampana/Documents/imageforge-site/tests/e2e/landing-and-benchmark.smoke.spec.ts:64`                                                                                                                                                                                                                                      | Defense-in-depth browser protections are now consistently emitted for landing and benchmark pages.     | Keep header policy in Next config and maintain E2E assertions for `/` and `/benchmarks/latest`.                               | Site Security            | `pnpm run test:e2e`; verify `security headers are present on landing and benchmark routes`                              |
| IF-SITE-MAINT-026 | imageforge-site              | Content IA                      | Low      | Unchanged   | No first-party docs/blog/contact routes; docs/changelog still route to GitHub.                                                                                     | `/Users/fabiencampana/Documents/imageforge-site/app/page.tsx:35`; `/Users/fabiencampana/Documents/imageforge-site/components/landing/FinalCtaFooter.tsx:25`                                                                                                                                                                                                                                                                                                                   | Limits long-tail discovery and direct feedback capture.                                                | Add lightweight in-site docs and feedback entry point.                                                                        | Site Product + Growth    | Route-level smoke tests for `/docs` and feedback surface                                                                |
| IF-SITE-SEC-027   | imageforge-site              | CI Supply Chain                 | Medium   | Resolved    | Resolved in Phase 5: site workflows are SHA-pinned and CI enforces action-pinning policy on every run.                                                             | `/Users/fabiencampana/Documents/imageforge-site/.github/workflows/ci.yml:13`; `/Users/fabiencampana/Documents/imageforge-site/.github/workflows/ci.yml:150`; `/Users/fabiencampana/Documents/imageforge-site/scripts/security/check-workflow-action-pinning.mjs:1`                                                                                                                                                                                                            | Floating-action drift is blocked by policy checks rather than manual review only.                      | Keep the pinning check required in CI and refresh SHAs through Dependabot action update PRs.                                  | Site Platform + Security | `node scripts/security/check-workflow-action-pinning.mjs`; CI job `workflow-action-pinning`                             |
| IF-X-VAL-028      | imageforge                   | Quality Gate Health             | Medium   | Resolved    | Resolved in Phase 4: formatting drift on audit artifacts was normalized and `check` is green again on `main`.                                                      | `/Users/fabiencampana/Documents/ImageForge/docs/audits/2026-02-19-main-cross-repo-findings.md:1`; `/Users/fabiencampana/Documents/ImageForge/docs/audits/2026-02-19-main-cross-repo-findings.json:1`; `/Users/fabiencampana/Documents/ImageForge/package.json:75`                                                                                                                                                                                                             | Local and CI quality-gate parity is restored for core release checks.                                  | Keep formatting baseline stable for audit artifacts and enforce `pnpm run check` in release verification.                     | CLI Maintainers          | `pnpm run check` returns exit 0                                                                                         |
| IF-X-VAL-029      | imageforge-site              | Security Validation Reliability | Medium   | Resolved    | Resolved in Phase 5: production dependency audit now retries transient failures and falls back to OSV scanning, failing closed on findings/errors.                 | `/Users/fabiencampana/Documents/imageforge-site/scripts/security/audit-prod-deps.mjs:5`; `/Users/fabiencampana/Documents/imageforge-site/scripts/security/audit-prod-deps.mjs:214`; `/Users/fabiencampana/Documents/imageforge-site/.github/workflows/ci.yml:150`; `/Users/fabiencampana/Documents/imageforge-site/package.json:27`                                                                                                                                           | Security audit outcomes are deterministic despite transient npm audit service failures.                | Keep retry/fallback policy in CI and periodically validate fallback path behavior.                                            | Site Platform            | `pnpm run audit:prod:reliable`; CI job `security-audit`                                                                 |
| IF-X-SEC-030      | imageforge + imageforge-site | Cross-Repo Supply Chain         | Medium   | Resolved    | Resolved in Phase 5: both repos now enforce a unified SHA-pinning policy with dedicated workflow checks.                                                           | `/Users/fabiencampana/Documents/ImageForge/.github/workflows/ci.yml:13`; `/Users/fabiencampana/Documents/ImageForge/.github/workflows/benchmark-ci.yml:257`; `/Users/fabiencampana/Documents/ImageForge/scripts/security/check-workflow-action-pinning.mjs:1`; `/Users/fabiencampana/Documents/imageforge-site/.github/workflows/ci.yml:13`; `/Users/fabiencampana/Documents/imageforge-site/scripts/security/check-workflow-action-pinning.mjs:1`                            | Cross-repo workflow supply-chain posture is now consistent and automatically enforced.                 | Maintain policy checks as required gates and update pinned SHAs through automated dependency update PRs.                      | Platform/SecOps          | Run both workflow-action-pinning checks locally and in CI                                                               |
| IF-X-DX-031       | imageforge                   | CLI UX                          | Low      | Resolved    | `--check` now surfaces per-file needs-processing lines, not only aggregate rerun text.                                                                             | `/Users/fabiencampana/Documents/ImageForge/src/runner.ts:893`; `/Users/fabiencampana/Documents/ImageForge/src/runner.ts:1061`                                                                                                                                                                                                                                                                                                                                                 | Earlier diagnosis friction reduced.                                                                    | Keep per-file output in non-quiet mode and extend JSON detail if needed.                                                      | CLI Product              | `imageforge <dir> --check` output review                                                                                |
| IF-X-TEST-032     | imageforge + imageforge-site | Coverage Strategy               | Medium   | Changed     | Coverage strategy improved on site UI (unit/component + E2E + visual + LHCI), but cross-repo coverage reporting and mutation/fault-injection are still incomplete. | `/Users/fabiencampana/Documents/ImageForge/vitest.config.ts:3`; `/Users/fabiencampana/Documents/imageforge-site/package.json:14`; `/Users/fabiencampana/Documents/imageforge-site/tests/unit/components/benchmark/BenchmarkPageContent.test.tsx:10`                                                                                                                                                                                                                           | Regression detection breadth is better, but effectiveness trends are still hard to quantify over time. | Add coverage artifacts/threshold trends in both repos, then phase in mutation or targeted fault-injection for critical paths. | CLI QA + Site QA         | CI coverage artifacts + periodic mutation/fault-injection reports                                                       |
| IF-SITE-UX-033    | imageforge-site              | Motion Quality                  | Medium   | Resolved    | Resolved in Phase 3: motion-quality regression detection now includes LHCI lab checks and Playwright visual diffs for critical landing/benchmark states.           | `/Users/fabiencampana/Documents/imageforge-site/lighthouserc.json:4`; `/Users/fabiencampana/Documents/imageforge-site/tests/visual/landing.visual.spec.ts:15`; `/Users/fabiencampana/Documents/imageforge-site/tests/visual/benchmark.visual.spec.ts:15`; `/Users/fabiencampana/Documents/imageforge-site/.github/workflows/quality-gates.yml:69`                                                                                                                             | Visual and motion drift now has automated lab and screenshot signals beyond structural safety checks.  | Keep advisory mode while tuning thresholds and false-positive rates before any blocking transition.                           | Site UX + Perf           | `pnpm lhci`; `pnpm test:visual`; GitHub check `quality-gates-advisory` on PR #28                                        |

## Top 10 Highest-Severity Findings

1. `IF-CLI-MAINT-006` (Medium) - Runner/test monolith complexity.
2. `IF-CLI-TEST-007` (Medium) - Runner internals still under-tested.
3. `IF-SITE-SEO-023` (Medium) - H1 audit signal remains noisy.
4. `IF-CLI-BENCH-013` (Medium) - Benchmark regression gates remain advisory-only.
5. `IF-CLI-MAINT-002` (Medium) - Node `>=22` policy remains restrictive.
6. `IF-SITE-PROD-020` (Medium) - Pricing claim freshness still relies on static timestamps.
7. `IF-X-TEST-032` (Medium) - Cross-repo coverage governance remains incomplete.
8. `IF-CLI-DX-004` (Medium) - No dry-run/include-exclude/init DX workflow yet.
9. `IF-CLI-PROD-005` (Medium) - Source format coverage still excludes webp/avif/svg inputs.
10. `IF-SITE-SEO-024` (Low) - CI SEO advisory output still contains environment-noise warnings.

## Critical-Path Remediation Order

1. Phase 4/5 hardening completed: keep regressions from reopening resolved items `IF-X-VAL-028`, `IF-CLI-SEC-009`, `IF-CLI-SEC-010`, `IF-X-VAL-029`, and `IF-X-SEC-030`.
2. Raise validation depth: `IF-CLI-TEST-007` and `IF-X-TEST-032` (coverage and mutation/fault-injection governance still pending).
3. Reduce structural maintenance risk: `IF-CLI-MAINT-006` (runner/test decomposition).
4. Improve signal quality and claim freshness: `IF-SITE-SEO-023`, `IF-SITE-SEO-024`, and `IF-SITE-PROD-020`.
5. Decide if/when to move benchmark regression thresholds from advisory to strict: `IF-CLI-BENCH-013`.
