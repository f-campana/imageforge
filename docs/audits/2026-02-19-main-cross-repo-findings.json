{
  "reportDate": "2026-02-23",
  "baselineDate": "2026-02-15",
  "baselineSource": "Prior audit snapshot provided in thread (2026-02-15).",
  "generatedAt": "2026-02-23T20:30:00Z",
  "scope": {
    "imageforge": {
      "path": "/Users/fabiencampana/Documents/ImageForge",
      "branch": "main",
      "sha": "ef65d3a77f4ea10b3fe464d3bd62ce5030403cb4"
    },
    "imageforgeSite": {
      "path": "/Users/fabiencampana/Documents/imageforge-site",
      "branch": "main",
      "sha": "fcf69945c55dad84e0801fe534f2728b31b766e8",
      "analyzedViaArchiveAt": "/Users/fabiencampana/Documents/imageforge-site"
    }
  },
  "verificationRuns": [
    {
      "timestamp": "2026-02-23T20:27:00Z",
      "repo": "imageforge",
      "command": "pnpm run test:e2e",
      "status": "pass",
      "note": "Packaged-install E2E passed after mutation advisory pilot integration"
    },
    {
      "timestamp": "2026-02-23T20:26:47Z",
      "repo": "imageforge",
      "command": "pnpm run check",
      "status": "pass",
      "note": "typecheck/lint/format/test gate remained green after mutation advisory additions"
    },
    {
      "timestamp": "2026-02-23T20:26:03Z",
      "repo": "imageforge",
      "command": "pnpm run test:mutation:pilot",
      "status": "pass",
      "note": "Stryker advisory pilot completed and emitted HTML/JSON mutation artifacts"
    },
    {
      "timestamp": "2026-02-23T19:30:00Z",
      "repo": "imageforge",
      "command": "GitHub Actions: CI (PR #63)",
      "status": "pass",
      "note": "Required checks green including Mutation Advisory (Node 22) and existing benchmark/quality gates"
    },
    {
      "timestamp": "2026-02-23T19:20:25Z",
      "repo": "imageforge-site",
      "command": "GitHub Actions: Animation Safety (PR #43 rerun)",
      "status": "pass",
      "note": "Re-run completed successfully after stale queued run; all required checks then green"
    },
    {
      "timestamp": "2026-02-23T19:21:10Z",
      "repo": "imageforge-site",
      "command": "GitHub Actions: CI (PR #43)",
      "status": "pass",
      "note": "Required checks green for docs/contact IA routes, sitemap updates, and route smoke coverage"
    },
    {
      "timestamp": "2026-02-23T17:04:12Z",
      "repo": "imageforge",
      "command": "GitHub Actions: CI (PR #58)",
      "status": "pass",
      "note": "Required checks green, benchmark mixed strictness workflow updates validated"
    },
    {
      "timestamp": "2026-02-23T16:59:26Z",
      "repo": "imageforge-site",
      "command": "GitHub Actions: CI (PR #42)",
      "status": "pass",
      "note": "Required checks green with new pricing-freshness blocking job"
    },
    {
      "timestamp": "2026-02-23T16:54:34Z",
      "repo": "imageforge-site",
      "command": "GitHub Actions: CI (PR #41)",
      "status": "pass",
      "note": "Required checks green with deterministic SEO CI path + placeholder skip handling"
    },
    {
      "timestamp": "2026-02-23T16:51:04Z",
      "repo": "imageforge-site",
      "command": "GitHub Actions: CI (PR #40)",
      "status": "pass",
      "note": "Required checks green with render-aware H1 audit updates"
    },
    {
      "timestamp": "2026-02-23T17:03:40Z",
      "repo": "imageforge",
      "command": "pnpm test",
      "status": "pass",
      "note": "108 tests passed including strict benchmark comparator coverage"
    },
    {
      "timestamp": "2026-02-23T17:04:03Z",
      "repo": "imageforge",
      "command": "pnpm run check",
      "status": "pass",
      "note": "typecheck/lint/format/test all passed after benchmark gate updates"
    },
    {
      "timestamp": "2026-02-23T17:04:11Z",
      "repo": "imageforge",
      "command": "pnpm run test:e2e",
      "status": "pass",
      "note": "Packaged install + npx flow passed after benchmark gate updates"
    },
    {
      "timestamp": "2026-02-23T16:58:20Z",
      "repo": "imageforge-site",
      "command": "node --test scripts/governance/__tests__/check-pricing-freshness.test.mjs",
      "status": "pass",
      "note": "Pricing freshness pass/stale/invalid/missing scenarios passed"
    },
    {
      "timestamp": "2026-02-23T16:58:20Z",
      "repo": "imageforge-site",
      "command": "pnpm run governance:pricing:freshness",
      "status": "pass",
      "note": "Blocking freshness gate emitted pass report for PRICING_AS_OF age within threshold"
    },
    {
      "timestamp": "2026-02-23T16:58:41Z",
      "repo": "imageforge-site",
      "command": "pnpm run check:ci",
      "status": "pass",
      "note": "Deterministic SEO CI path passed with placeholder-domain noise control"
    },
    {
      "timestamp": "2026-02-23T16:09:11Z",
      "repo": "imageforge",
      "command": "pnpm run check",
      "status": "pass",
      "note": "typecheck/lint/format/test all passed (106 tests, including split suites + edge cases)"
    },
    {
      "timestamp": "2026-02-23T16:09:11Z",
      "repo": "imageforge",
      "command": "pnpm run test:e2e",
      "status": "pass",
      "note": "Packaged install + npx flow passed after Phase 6A updates"
    },
    {
      "timestamp": "2026-02-23T16:09:11Z",
      "repo": "imageforge",
      "command": "pnpm exec vitest run tests/fault-injection.pilot.test.ts --reporter=json --outputFile=.tmp/fault-injection/report.json",
      "status": "pass",
      "note": "CLI fault-injection pilot produced advisory JSON report artifact format"
    },
    {
      "timestamp": "2026-02-23T16:09:11Z",
      "repo": "imageforge-site",
      "command": "pnpm run check:ci",
      "status": "pass",
      "note": "lint/typecheck/format/build/seo gates passed after quality-gates fault-injection addition"
    },
    {
      "timestamp": "2026-02-23T16:09:11Z",
      "repo": "imageforge-site",
      "command": "pnpm test:fault-injection",
      "status": "pass",
      "note": "Security audit wrapper fault-injection scenarios passed"
    },
    {
      "timestamp": "2026-02-23T16:03:11Z",
      "repo": "imageforge",
      "command": "GitHub Actions: CI (PR #55)",
      "status": "pass",
      "note": "Required checks green; Coverage Advisory + Fault Injection Advisory jobs passed and uploaded artifacts"
    },
    {
      "timestamp": "2026-02-23T16:03:42Z",
      "repo": "imageforge-site",
      "command": "GitHub Actions: CI (PR #39)",
      "status": "pass",
      "note": "Required checks green after site fault-injection pilot integration"
    },
    {
      "timestamp": "2026-02-23T16:11:08Z",
      "repo": "imageforge-site",
      "command": "GitHub Actions: Quality Gates (Advisory) push run 22314301872",
      "status": "pass",
      "note": "Advisory unit/coverage/fault-injection/e2e/visual/lhci stack completed and artifacts uploaded on main"
    },
    {
      "timestamp": "2026-02-20T14:27:20Z",
      "repo": "imageforge-site",
      "command": "node scripts/security/check-workflow-action-pinning.mjs",
      "status": "pass",
      "note": "6 workflow files passed policy check"
    },
    {
      "timestamp": "2026-02-20T14:26:42Z",
      "repo": "imageforge-site",
      "command": "pnpm run test:e2e",
      "status": "pass",
      "note": "Playwright smoke passed including security-header assertions"
    },
    {
      "timestamp": "2026-02-20T14:26:22Z",
      "repo": "imageforge-site",
      "command": "pnpm run audit:prod:reliable",
      "status": "pass",
      "note": "Primary pnpm audit passed; retry/fallback path active"
    },
    {
      "timestamp": "2026-02-20T14:25:44Z",
      "repo": "imageforge-site",
      "command": "pnpm run check:ci",
      "status": "pass",
      "note": "lint/typecheck/format/build/seo gates passed"
    },
    {
      "timestamp": "2026-02-20T14:27:20Z",
      "repo": "imageforge",
      "command": "node scripts/security/check-workflow-action-pinning.mjs",
      "status": "pass",
      "note": "6 workflow files passed policy check"
    },
    {
      "timestamp": "2026-02-20T14:25:24Z",
      "repo": "imageforge",
      "command": "pnpm run test:e2e",
      "status": "pass",
      "note": "Packaged install + npx flow passed"
    },
    {
      "timestamp": "2026-02-20T14:25:11Z",
      "repo": "imageforge",
      "command": "pnpm run check",
      "status": "pass",
      "note": "typecheck/lint/format/test all passed (100 tests)"
    },
    {
      "timestamp": "2026-02-19T16:07:58Z",
      "repo": "imageforge",
      "command": "pnpm test",
      "status": "pass",
      "note": "89 tests passed"
    },
    {
      "timestamp": "2026-02-19T16:07:58Z",
      "repo": "imageforge",
      "command": "pnpm run test:e2e",
      "status": "pass",
      "note": "Packaged install e2e passed"
    },
    {
      "timestamp": "2026-02-19T16:08:12Z",
      "repo": "imageforge",
      "command": "pnpm run check",
      "status": "fail",
      "note": "format:check failed on 17 docs files"
    },
    {
      "timestamp": "2026-02-19T16:07:23Z",
      "repo": "imageforge",
      "command": "pnpm audit --prod --audit-level=high",
      "status": "pass",
      "note": "No known vulnerabilities found"
    },
    {
      "timestamp": "2026-02-19T16:07:35Z",
      "repo": "imageforge-site",
      "command": "pnpm run check:ci",
      "status": "pass",
      "note": "Full CI-parity gate passed"
    },
    {
      "timestamp": "2026-02-19T16:07:28Z",
      "repo": "imageforge-site",
      "command": "NEXT_PUBLIC_SITE_URL=https://example.com SEO_MODE=advisory pnpm run seo:check",
      "status": "pass",
      "note": "critical=0, high=1, medium=1, score=85"
    },
    {
      "timestamp": "2026-02-19T16:08:21Z",
      "repo": "imageforge-site",
      "command": "pnpm run benchmark:test",
      "status": "pass",
      "note": "1 benchmark test passed"
    },
    {
      "timestamp": "2026-02-19T16:08:28Z",
      "repo": "imageforge-site",
      "command": "pnpm run animation:check",
      "status": "pass",
      "note": "Canonical + fixture animation safety passed"
    },
    {
      "timestamp": "2026-02-19T16:05:23Z",
      "repo": "imageforge-site",
      "command": "pnpm audit --prod --audit-level=high",
      "status": "fail",
      "note": "npm audit endpoint 500 (ERR_PNPM_AUDIT_BAD_RESPONSE)"
    },
    {
      "timestamp": "2026-02-19T23:37:44Z",
      "repo": "imageforge-site",
      "command": "GitHub Actions: animation-safety",
      "status": "pass",
      "note": "PR #28 required safety gate passed"
    },
    {
      "timestamp": "2026-02-19T23:37:57Z",
      "repo": "imageforge-site",
      "command": "GitHub Actions: quality-gates-advisory",
      "status": "pass",
      "note": "Advisory unit/e2e/visual/lhci stack executed with artifacts"
    }
  ],
  "deltaCounts": {
    "New": 2,
    "Changed": 2,
    "Unchanged": 0,
    "Resolved": 29
  },
  "findings": [
    {
      "id": "IF-CLI-SEC-001",
      "repo": "imageforge",
      "domain": "Module System",
      "severity": "Critical",
      "deltaStatus": "Resolved",
      "finding": "Resolved in Phase 2: package is now ESM-primary with explicit dual import/require export conditions and dual build outputs.",
      "evidence": [
        {
          "path": "/Users/fabiencampana/Documents/ImageForge/package.json",
          "line": 15,
          "note": "package now declares type module"
        },
        {
          "path": "/Users/fabiencampana/Documents/ImageForge/package.json",
          "line": 22,
          "note": "exports define both import and require conditions"
        },
        {
          "path": "/Users/fabiencampana/Documents/ImageForge/tsconfig.json",
          "line": 4,
          "note": "ESM-primary NodeNext compilation"
        },
        {
          "path": "/Users/fabiencampana/Documents/ImageForge/tests/exports.test.ts",
          "line": 15,
          "note": "local consumer require/import export matrix coverage"
        },
        {
          "path": "/Users/fabiencampana/Documents/ImageForge/tests/packaged-install.e2e.test.ts",
          "line": 96,
          "note": "tarball consumer require/import matrix coverage"
        }
      ],
      "impact": "Consumer module loading contract is now explicit and verified across ESM and CJS entry points.",
      "recommendation": "Keep dual build/export matrix in CI and preserve import/require compatibility tests for future dependency upgrades.",
      "owner": "CLI Core",
      "verification": [
        "pnpm run check",
        "pnpm run test:e2e",
        "node -e \"require('@imageforge/cli')\"",
        "node --input-type=module -e \"import '@imageforge/cli'\""
      ]
    },
    {
      "id": "IF-CLI-MAINT-002",
      "repo": "imageforge",
      "domain": "Runtime Policy",
      "severity": "Medium",
      "deltaStatus": "Resolved",
      "finding": "Resolved in Phase 6C: CLI runtime policy now supports Node >=20 and CI/E2E matrices validate Node 20+ paths.",
      "evidence": [
        {
          "path": "/Users/fabiencampana/Documents/ImageForge/package.json",
          "line": 116,
          "note": "engines.node set to >=20"
        },
        {
          "path": "/Users/fabiencampana/Documents/ImageForge/.github/workflows/ci.yml",
          "line": 63,
          "note": "quality matrix includes Node 20/22/24"
        },
        {
          "path": "/Users/fabiencampana/Documents/ImageForge/.github/workflows/ci.yml",
          "line": 97,
          "note": "packaged install E2E matrix includes Node 20 and Node 22"
        },
        {
          "path": "/Users/fabiencampana/Documents/ImageForge/README.md",
          "line": 55,
          "note": "runtime requirement updated to Node >=20"
        }
      ],
      "impact": "Compatibility expanded to Node 20 users while preserving existing CI confidence on newer runtimes.",
      "recommendation": "Keep Node 20/22/24 quality matrix and Node 20/22 packaged-install E2E coverage as required gates.",
      "owner": "CLI Core",
      "verification": ["pnpm run check", "pnpm run test:e2e", "GitHub Actions: CI (PR #59)"]
    },
    {
      "id": "IF-CLI-DX-003",
      "repo": "imageforge",
      "domain": "Public API / DX",
      "severity": "Medium",
      "deltaStatus": "Resolved",
      "finding": "Resolved in Phase 2: stable runner API is now exported on @imageforge/cli/runner (subpath-only contract).",
      "evidence": [
        {
          "path": "/Users/fabiencampana/Documents/ImageForge/package.json",
          "line": 33,
          "note": "runner subpath export includes types/import/require"
        },
        {
          "path": "/Users/fabiencampana/Documents/ImageForge/src/runner.ts",
          "line": 139,
          "note": "runImageforge public function"
        },
        {
          "path": "/Users/fabiencampana/Documents/ImageForge/tests/exports.test.ts",
          "line": 15,
          "note": "asserts runner is available on subpath and absent from root"
        },
        {
          "path": "/Users/fabiencampana/Documents/ImageForge/tests/packaged-install.e2e.test.ts",
          "line": 99,
          "note": "verifies runner subpath in installed tarball"
        },
        {
          "path": "/Users/fabiencampana/Documents/ImageForge/README.md",
          "line": 268,
          "note": "documents stable subpath runner API for ESM/CJS"
        }
      ],
      "impact": "Programmatic consumers can call the full pipeline runner directly without shelling out to the CLI.",
      "recommendation": "Maintain SemVer stability for @imageforge/cli/runner and keep root API intentionally runner-free.",
      "owner": "CLI Core",
      "verification": [
        "pnpm run check",
        "pnpm run test:e2e",
        "node -e \"require('@imageforge/cli/runner')\"",
        "node --input-type=module -e \"import '@imageforge/cli/runner'\""
      ]
    },
    {
      "id": "IF-CLI-DX-004",
      "repo": "imageforge",
      "domain": "CLI UX",
      "severity": "Medium",
      "deltaStatus": "Resolved",
      "finding": "Resolved in Phase 6C: CLI now supports dry-run previews, include/exclude glob filtering, and imageforge init scaffold generation.",
      "evidence": [
        {
          "path": "/Users/fabiencampana/Documents/ImageForge/src/cli.ts",
          "line": 399,
          "note": "imageforge init command with overwrite protection"
        },
        {
          "path": "/Users/fabiencampana/Documents/ImageForge/src/cli.ts",
          "line": 440,
          "note": "dry-run CLI flag"
        },
        {
          "path": "/Users/fabiencampana/Documents/ImageForge/src/cli.ts",
          "line": 443,
          "note": "include/exclude CLI flags"
        },
        {
          "path": "/Users/fabiencampana/Documents/ImageForge/src/runner.ts",
          "line": 266,
          "note": "input-relative include/exclude filtering with exclude precedence"
        },
        {
          "path": "/Users/fabiencampana/Documents/ImageForge/src/runner.ts",
          "line": 618,
          "note": "dry-run returns before cache/manifest/output writes"
        },
        {
          "path": "/Users/fabiencampana/Documents/ImageForge/tests/cli.integration.test.ts",
          "line": 920,
          "note": "dry-run and include/exclude integration coverage"
        },
        {
          "path": "/Users/fabiencampana/Documents/ImageForge/tests/cli.integration.test.ts",
          "line": 1080,
          "note": "init scaffold + force-overwrite coverage"
        }
      ],
      "impact": "Developers can now preview work safely, scope processing precisely, and bootstrap config without manual JSON authoring.",
      "recommendation": "Keep dry-run/include/exclude/init integration tests in required CLI regression coverage.",
      "owner": "CLI Product",
      "verification": [
        "pnpm test",
        "pnpm run check",
        "pnpm run test:e2e",
        "GitHub Actions: CI (PR #60, PR #61)"
      ]
    },
    {
      "id": "IF-CLI-PROD-005",
      "repo": "imageforge",
      "domain": "Feature Scope",
      "severity": "Medium",
      "deltaStatus": "Changed",
      "finding": "Runtime input discovery still excludes webp/avif/svg, but Phase 6C added an explicit source-input roadmap documenting rationale and sequencing.",
      "evidence": [
        {
          "path": "/Users/fabiencampana/Documents/ImageForge/src/processor.ts",
          "line": 48,
          "note": "supported source extension list excludes webp/avif/svg"
        },
        {
          "path": "/Users/fabiencampana/Documents/ImageForge/README.md",
          "line": 317,
          "note": "source scope section documents excluded modern formats"
        },
        {
          "path": "/Users/fabiencampana/Documents/ImageForge/docs/product/source-input-roadmap.md",
          "line": 14,
          "note": "roadmap now captures deferred scope and planned sequencing"
        }
      ],
      "impact": "Product behavior remains unchanged for modern source inputs, but scope is now explicit for planning and user expectation setting.",
      "recommendation": "Implement roadmap phases with explicit contracts and tests before enabling webp/avif/svg source processing.",
      "owner": "CLI Product",
      "verification": ["Roadmap and README scope review"]
    },
    {
      "id": "IF-CLI-MAINT-006",
      "repo": "imageforge",
      "domain": "Maintainability",
      "severity": "Medium",
      "deltaStatus": "Resolved",
      "finding": "Resolved in Phase 6A: runner responsibilities and test suites were decomposed into focused modules/files, removing the prior monolith hotspots.",
      "evidence": [
        {
          "path": "/Users/fabiencampana/Documents/ImageForge/src/runner.ts",
          "line": 1,
          "note": "runner reduced to orchestration layer (~610 LOC)"
        },
        {
          "path": "/Users/fabiencampana/Documents/ImageForge/src/runner/cache.ts",
          "line": 1,
          "note": "cache lifecycle and locking extracted"
        },
        {
          "path": "/Users/fabiencampana/Documents/ImageForge/src/runner/preflight.ts",
          "line": 1,
          "note": "collision/preflight logic extracted"
        },
        {
          "path": "/Users/fabiencampana/Documents/ImageForge/src/runner/reporting.ts",
          "line": 1,
          "note": "reporting/rerun helpers extracted"
        },
        {
          "path": "/Users/fabiencampana/Documents/ImageForge/tests/cli.integration.test.ts",
          "line": 1,
          "note": "CLI integration coverage split from monolithic suite"
        },
        {
          "path": "/Users/fabiencampana/Documents/ImageForge/tests/processor.test.ts",
          "line": 1,
          "note": "processor-specific coverage split from monolithic suite"
        },
        {
          "path": "/Users/fabiencampana/Documents/ImageForge/tests/config.test.ts",
          "line": 1,
          "note": "config-specific coverage split from monolithic suite"
        },
        {
          "path": "/Users/fabiencampana/Documents/ImageForge/tests/exports.test.ts",
          "line": 1,
          "note": "exports and runner contract coverage isolated"
        }
      ],
      "impact": "Maintenance risk from single-file hotspots was reduced, making targeted refactors safer and easier to review.",
      "recommendation": "Keep module boundaries explicit (cache/preflight/reporting) and avoid re-consolidating cross-cutting concerns into runner.ts.",
      "owner": "CLI Core",
      "verification": ["pnpm run check", "pnpm run test:e2e"]
    },
    {
      "id": "IF-CLI-TEST-007",
      "repo": "imageforge",
      "domain": "Validation Depth",
      "severity": "Medium",
      "deltaStatus": "Resolved",
      "finding": "Resolved in Phase 6A: previously missing runner edge cases now have direct tests (atomic cache cleanup, corrupt preflight with widths, invalid orientation branch).",
      "evidence": [
        {
          "path": "/Users/fabiencampana/Documents/ImageForge/tests/exports.test.ts",
          "line": 93,
          "note": "atomic cache temp cleanup on rename failure path"
        },
        {
          "path": "/Users/fabiencampana/Documents/ImageForge/tests/cli.integration.test.ts",
          "line": 757,
          "note": "preflight corrupt image failure path with responsive widths"
        },
        {
          "path": "/Users/fabiencampana/Documents/ImageForge/tests/processor.test.ts",
          "line": 598,
          "note": "invalid EXIF orientation fallback branch coverage"
        }
      ],
      "impact": "Critical runner/processing edge behaviors now have regression coverage and are less likely to fail silently.",
      "recommendation": "Preserve these edge-case tests as required regression coverage when touching cache/preflight/orientation logic.",
      "owner": "CLI QA",
      "verification": ["pnpm test", "pnpm run check"]
    },
    {
      "id": "IF-CLI-TEST-008",
      "repo": "imageforge",
      "domain": "E2E Coverage",
      "severity": "Low",
      "deltaStatus": "Resolved",
      "finding": "Resolved in Phase 6C: packaged-install E2E now exercises direct one-shot execution via npm exec --package <tarball> imageforge before local install.",
      "evidence": [
        {
          "path": "/Users/fabiencampana/Documents/ImageForge/tests/packaged-install.e2e.test.ts",
          "line": 102,
          "note": "one-shot npm exec --package flow"
        },
        {
          "path": "/Users/fabiencampana/Documents/ImageForge/tests/packaged-install.e2e.test.ts",
          "line": 120,
          "note": "one-shot run asserts manifest and derivative outputs"
        }
      ],
      "impact": "The previously unverified one-shot package execution path is now covered in regression tests.",
      "recommendation": "Keep one-shot package execution in packaged-install E2E to guard npm exec behavioral regressions.",
      "owner": "CLI QA",
      "verification": ["pnpm run test:e2e", "GitHub Actions: CI (PR #62)"]
    },
    {
      "id": "IF-CLI-SEC-009",
      "repo": "imageforge",
      "domain": "Output Safety",
      "severity": "Medium",
      "deltaStatus": "Resolved",
      "finding": "Resolved in Phase 5: terminal-facing file path and error output now sanitize control characters before rendering.",
      "evidence": [
        {
          "path": "/Users/fabiencampana/Documents/ImageForge/src/runner/preflight.ts",
          "line": 22,
          "note": "centralized terminal-safe escaping for control characters"
        },
        {
          "path": "/Users/fabiencampana/Documents/ImageForge/src/runner.ts",
          "line": 17,
          "note": "sanitizer wired through discovery/reporting output paths"
        },
        {
          "path": "/Users/fabiencampana/Documents/ImageForge/tests/cli.integration.test.ts",
          "line": 899,
          "note": "CLI regression test verifies control characters are escaped in check output"
        }
      ],
      "impact": "Crafted filenames can no longer inject raw ANSI/control sequences into CLI output streams.",
      "recommendation": "Keep sanitization on all user-facing logs and preserve regression tests for escaped output behavior.",
      "owner": "CLI Security",
      "verification": [
        "pnpm run check",
        "vitest: --check sanitizes control characters in logged file paths"
      ]
    },
    {
      "id": "IF-CLI-SEC-010",
      "repo": "imageforge",
      "domain": "Resource Safety",
      "severity": "Medium",
      "deltaStatus": "Resolved",
      "finding": "Resolved in Phase 5: file hashing moved from full-buffer readFileSync to chunked sync reads with constant memory footprint.",
      "evidence": [
        {
          "path": "/Users/fabiencampana/Documents/ImageForge/src/processor.ts",
          "line": 113,
          "note": "fileHash uses chunked sync read loop with bounded buffer"
        },
        {
          "path": "/Users/fabiencampana/Documents/ImageForge/tests/processor.test.ts",
          "line": 311,
          "note": "large-file hashing regression test validates chunked implementation"
        }
      ],
      "impact": "Large-file hashing no longer requires loading the entire file in memory before digesting.",
      "recommendation": "Retain chunked hash implementation and keep large-file regression test coverage.",
      "owner": "CLI Core",
      "verification": ["pnpm run check", "vitest: hashes large files correctly with chunked reads"]
    },
    {
      "id": "IF-CLI-BENCH-011",
      "repo": "imageforge",
      "domain": "Benchmark Integrity",
      "severity": "High",
      "deltaStatus": "Resolved",
      "finding": "Resolved in Phase 1: enabled benchmark sources are pinned and source fetch is fail-closed by default.",
      "evidence": [
        {
          "path": "/Users/fabiencampana/Documents/ImageForge/scripts/bench/dataset-sources.json",
          "line": 12,
          "note": "enabled sources now carry pinned sha256 values"
        },
        {
          "path": "/Users/fabiencampana/Documents/ImageForge/scripts/bench/fetch-sources.mjs",
          "line": 58,
          "note": "strict defaults with explicit waiver flags"
        },
        {
          "path": "/Users/fabiencampana/Documents/ImageForge/scripts/bench/fetch-sources.mjs",
          "line": 139,
          "note": "missing/invalid sha256 fails unless waiver enabled"
        },
        {
          "path": "/Users/fabiencampana/Documents/ImageForge/scripts/bench/fetch-sources.mjs",
          "line": 228,
          "note": "non-partial runs exit nonzero on failures"
        }
      ],
      "impact": "Open-license source provenance and availability are now enforced by default during dataset fetch.",
      "recommendation": "Keep source hashes pinned and use waiver flags only for controlled recovery scenarios.",
      "owner": "CLI Benchmark",
      "verification": [
        "pnpm run bench:dataset:fetch -- --sources-file <fixture-with-missing-sha> --out-dir <tmp> (expects exit 1)",
        "pnpm test"
      ]
    },
    {
      "id": "IF-CLI-BENCH-012",
      "repo": "imageforge",
      "domain": "Benchmark Governance",
      "severity": "High",
      "deltaStatus": "Resolved",
      "finding": "Resolved in Phase 1: dataset release flow enforces immutable tags and create-only publishing.",
      "evidence": [
        {
          "path": "/Users/fabiencampana/Documents/ImageForge/.github/workflows/benchmark-dataset-release.yml",
          "line": 50,
          "note": "preflight asserts tag absence before release"
        },
        {
          "path": "/Users/fabiencampana/Documents/ImageForge/.github/workflows/benchmark-dataset-release.yml",
          "line": 89,
          "note": "release uses create-only path (no --clobber)"
        },
        {
          "path": "/Users/fabiencampana/Documents/ImageForge/scripts/bench/assert-dataset-tag-absent.mjs",
          "line": 39,
          "note": "nonzero exit when immutable tag already exists"
        },
        {
          "path": "/Users/fabiencampana/Documents/ImageForge/docs/benchmark/DATASET_POLICY.md",
          "line": 33,
          "note": "immutability enforcement documented"
        }
      ],
      "impact": "Existing benchmark dataset tags and release assets cannot be overwritten in place.",
      "recommendation": "Continue semantic version bumps for any dataset content change.",
      "owner": "CLI Benchmark + Release",
      "verification": [
        "node scripts/bench/assert-dataset-tag-absent.mjs --repo f-campana/imageforge --dataset-version 1.0.0 (expects exit 1)",
        "node scripts/bench/assert-dataset-tag-absent.mjs --repo f-campana/imageforge --dataset-version 9.9.9 (expects exit 0)"
      ]
    },
    {
      "id": "IF-CLI-BENCH-013",
      "repo": "imageforge",
      "domain": "Benchmark Gating",
      "severity": "Medium",
      "deltaStatus": "Resolved",
      "finding": "Resolved in Phase 6B: benchmark regression gating now uses mixed strictness with explicit strict fail-closed paths and auditable override control.",
      "evidence": [
        {
          "path": "/Users/fabiencampana/Documents/ImageForge/.github/workflows/benchmark-ci.yml",
          "line": 23,
          "note": "workflow_dispatch exposes allow_regression_override input"
        },
        {
          "path": "/Users/fabiencampana/Documents/ImageForge/.github/workflows/benchmark-ci.yml",
          "line": 83,
          "note": "scheduled runs set compare_mode=strict"
        },
        {
          "path": "/Users/fabiencampana/Documents/ImageForge/.github/workflows/benchmark-ci.yml",
          "line": 245,
          "note": "Enforce benchmark gate fails strict runs on alerts without override"
        },
        {
          "path": "/Users/fabiencampana/Documents/ImageForge/scripts/bench/compare-benchmark.mjs",
          "line": 98,
          "note": "--mode advisory|strict support with validation"
        },
        {
          "path": "/Users/fabiencampana/Documents/ImageForge/scripts/bench/compare-benchmark.mjs",
          "line": 263,
          "note": "strict comparator exits nonzero when alerts are present"
        },
        {
          "path": "/Users/fabiencampana/Documents/ImageForge/tests/benchmark-tools.test.ts",
          "line": 269,
          "note": "strict mode fail/pass behavior covered by tests"
        }
      ],
      "impact": "Regression alerts now block strict benchmark contexts unless an explicit override is declared.",
      "recommendation": "Maintain advisory PR signal with strict schedule/publish gating and keep override usage explicit in workflow history.",
      "owner": "CLI Benchmark",
      "verification": [
        "GitHub Actions: Benchmark CI (PR #58)",
        "pnpm test (strict comparator scenarios)",
        "pnpm run check"
      ]
    },
    {
      "id": "IF-CLI-SEC-014",
      "repo": "imageforge",
      "domain": "Secret Handling",
      "severity": "High",
      "deltaStatus": "Resolved",
      "finding": "Resolved in Phase 1: benchmark sync now avoids tokenized git URLs and redacts failure output.",
      "evidence": [
        {
          "path": "/Users/fabiencampana/Documents/ImageForge/scripts/bench/sync-site-benchmark.mjs",
          "line": 282,
          "note": "remote URL no longer embeds token"
        },
        {
          "path": "/Users/fabiencampana/Documents/ImageForge/scripts/bench/sync-site-benchmark.mjs",
          "line": 78,
          "note": "askpass credential flow for git auth"
        },
        {
          "path": "/Users/fabiencampana/Documents/ImageForge/scripts/bench/sync-site-benchmark.mjs",
          "line": 25,
          "note": "central secret redaction for command failures"
        },
        {
          "path": "/Users/fabiencampana/Documents/ImageForge/scripts/bench/sync-site-benchmark.mjs",
          "line": 398,
          "note": "temporary credential helper cleanup in finally"
        },
        {
          "path": "/Users/fabiencampana/Documents/ImageForge/tests/benchmark-tools.test.ts",
          "line": 697,
          "note": "failure-path test asserts token is not leaked"
        }
      ],
      "impact": "Token leakage risk in git command arguments and failure logs is significantly reduced.",
      "recommendation": "Retain redaction coverage tests for future sync-script changes.",
      "owner": "CLI Security",
      "verification": [
        "pnpm exec vitest run tests/benchmark-tools.test.ts --reporter verbose",
        "sync-site benchmark redaction test passes"
      ]
    },
    {
      "id": "IF-CLI-MAINT-015",
      "repo": "imageforge",
      "domain": "Code Hygiene",
      "severity": "Low",
      "deltaStatus": "Resolved",
      "finding": "Resolved in Phase 6C: shared runtime guard and pixel-limit constants were centralized in src/shared.ts and consumed by CLI/config/processor/runner modules.",
      "evidence": [
        {
          "path": "/Users/fabiencampana/Documents/ImageForge/src/shared.ts",
          "line": 1,
          "note": "single source of truth for LIMIT_INPUT_PIXELS + isRecord"
        },
        {
          "path": "/Users/fabiencampana/Documents/ImageForge/src/cli.ts",
          "line": 13,
          "note": "isRecord imported from shared helper"
        },
        {
          "path": "/Users/fabiencampana/Documents/ImageForge/src/config.ts",
          "line": 5,
          "note": "isRecord imported from shared helper"
        },
        {
          "path": "/Users/fabiencampana/Documents/ImageForge/src/processor.ts",
          "line": 11,
          "note": "LIMIT_INPUT_PIXELS imported from shared helper"
        },
        {
          "path": "/Users/fabiencampana/Documents/ImageForge/src/runner/cache.ts",
          "line": 4,
          "note": "isRecord imported from shared helper"
        },
        {
          "path": "/Users/fabiencampana/Documents/ImageForge/src/runner/preflight.ts",
          "line": 7,
          "note": "LIMIT_INPUT_PIXELS imported from shared helper"
        }
      ],
      "impact": "Duplicate guard/constant drift risk across CLI runtime modules is removed.",
      "recommendation": "Keep shared runtime guards/constants centralized and resist reintroducing local duplicates.",
      "owner": "CLI Core",
      "verification": ["pnpm run check", "pnpm run test:e2e"]
    },
    {
      "id": "IF-CLI-MAINT-016",
      "repo": "imageforge",
      "domain": "Release Automation",
      "severity": "Low",
      "deltaStatus": "Resolved",
      "finding": "Release Please manifest tracking is now explicit and wired.",
      "evidence": [
        {
          "path": "/Users/fabiencampana/Documents/ImageForge/.release-please-manifest.json",
          "line": 1,
          "note": "manifest tracked"
        },
        {
          "path": "/Users/fabiencampana/Documents/ImageForge/.github/workflows/release-please.yml",
          "line": 21,
          "note": "manifest-file configured"
        }
      ],
      "impact": "Release automation state clarity improved.",
      "recommendation": "Keep release metadata contract under CI validation.",
      "owner": "CLI Release",
      "verification": ["Release Please workflow run/dry-run"]
    },
    {
      "id": "IF-SITE-PROD-017",
      "repo": "imageforge-site",
      "domain": "Product/Claims",
      "severity": "Low",
      "deltaStatus": "New",
      "finding": "Site now ships a benchmark evidence route backed by synced snapshot JSON.",
      "evidence": [
        {
          "path": "/Users/fabiencampana/Documents/imageforge-site/app/benchmarks/latest/page.tsx",
          "line": 19,
          "note": "benchmark page renders latest + history"
        },
        {
          "path": "/Users/fabiencampana/Documents/imageforge-site/data/benchmarks/latest.json",
          "line": 16,
          "note": "source sha references audited CLI main"
        }
      ],
      "impact": "Claim traceability and credibility improved.",
      "recommendation": "Maintain sync cadence and stale snapshot alerting.",
      "owner": "Site Product + Benchmark",
      "verification": ["pnpm run benchmark:test", "Render /benchmarks/latest"]
    },
    {
      "id": "IF-SITE-PROD-018",
      "repo": "imageforge-site",
      "domain": "Analytics",
      "severity": "Low",
      "deltaStatus": "Resolved",
      "finding": "Analytics and Speed Insights are now integrated with browser opt-out controls.",
      "evidence": [
        {
          "path": "/Users/fabiencampana/Documents/imageforge-site/app/layout.tsx",
          "line": 81,
          "note": "analytics components mounted"
        },
        {
          "path": "/Users/fabiencampana/Documents/imageforge-site/components/analytics/VercelAnalytics.tsx",
          "line": 23,
          "note": "beforeSend suppression hook"
        },
        {
          "path": "/Users/fabiencampana/Documents/imageforge-site/lib/analytics/browser-opt-out.ts",
          "line": 1,
          "note": "query/localStorage opt-out implementation"
        }
      ],
      "impact": "Prior analytics gap is closed.",
      "recommendation": "Add event-level validation when custom events are enabled.",
      "owner": "Site Growth",
      "verification": ["Manual ?analytics=off/on validation in browser"]
    },
    {
      "id": "IF-SITE-MAINT-019",
      "repo": "imageforge-site",
      "domain": "Dependency Surface",
      "severity": "Medium",
      "deltaStatus": "Resolved",
      "finding": "Resolved in Phase 5: googleapis moved from production dependencies to devDependencies for script-only usage.",
      "evidence": [
        {
          "path": "/Users/fabiencampana/Documents/imageforge-site/package.json",
          "line": 47,
          "note": "devDependencies block now contains googleapis"
        },
        {
          "path": "/Users/fabiencampana/Documents/imageforge-site/package.json",
          "line": 59,
          "note": "googleapis listed under devDependencies"
        },
        {
          "path": "/Users/fabiencampana/Documents/imageforge-site/scripts/seo/gsc.mjs",
          "line": 1,
          "note": "usage remains script-scoped"
        }
      ],
      "impact": "Production dependency surface is reduced while SEO tooling remains functional.",
      "recommendation": "Keep script-only packages in devDependencies and validate with CI install/build/SEO runs.",
      "owner": "Site Platform",
      "verification": ["pnpm run check:ci", "pnpm run seo:test"]
    },
    {
      "id": "IF-SITE-PROD-020",
      "repo": "imageforge-site",
      "domain": "Claim Freshness",
      "severity": "Medium",
      "deltaStatus": "Resolved",
      "finding": "Resolved in Phase 6B: pricing freshness is now enforced by a blocking CI gate that validates PRICING_AS_OF for presence, parseability, and age threshold.",
      "evidence": [
        {
          "path": "/Users/fabiencampana/Documents/imageforge-site/scripts/governance/check-pricing-freshness.mjs",
          "line": 43,
          "note": "deterministic parser extracts PRICING_AS_OF and validates freshness"
        },
        {
          "path": "/Users/fabiencampana/Documents/imageforge-site/.github/workflows/ci.yml",
          "line": 126,
          "note": "required pricing-freshness CI job added"
        },
        {
          "path": "/Users/fabiencampana/Documents/imageforge-site/.github/workflows/ci.yml",
          "line": 152,
          "note": "CI runs governance:pricing:freshness and uploads machine-readable artifact"
        },
        {
          "path": "/Users/fabiencampana/Documents/imageforge-site/scripts/governance/__tests__/check-pricing-freshness.test.mjs",
          "line": 69,
          "note": "stale/invalid/missing scenarios covered by unit tests"
        }
      ],
      "impact": "Stale pricing claim timestamps are now blocked in CI before merge instead of relying on manual cadence only.",
      "recommendation": "Keep threshold policy explicit (default 45 days) and review PRICING_AS_OF update cadence during monthly claim governance.",
      "owner": "Site Product + Growth",
      "verification": [
        "pnpm run governance:pricing:freshness",
        "node --test scripts/governance/__tests__/check-pricing-freshness.test.mjs",
        "GitHub Actions: CI (PR #42)"
      ]
    },
    {
      "id": "IF-SITE-TEST-021",
      "repo": "imageforge-site",
      "domain": "UI Validation",
      "severity": "High",
      "deltaStatus": "Resolved",
      "finding": "Resolved in Phase 3: site now has Vitest component/hook tests, Playwright E2E smoke tests, and visual regression snapshots wired into an advisory CI workflow.",
      "evidence": [
        {
          "path": "/Users/fabiencampana/Documents/imageforge-site/package.json",
          "line": 14,
          "note": "adds test:unit/test:e2e/test:visual scripts"
        },
        {
          "path": "/Users/fabiencampana/Documents/imageforge-site/tests/unit/components/landing/InstallCommands.test.tsx",
          "line": 11,
          "note": "keyboard and ARIA tab behavior coverage"
        },
        {
          "path": "/Users/fabiencampana/Documents/imageforge-site/tests/unit/components/landing/CopyButton.test.tsx",
          "line": 8,
          "note": "clipboard success/failure path coverage"
        },
        {
          "path": "/Users/fabiencampana/Documents/imageforge-site/tests/e2e/landing-and-benchmark.smoke.spec.ts",
          "line": 3,
          "note": "route-level smoke checks for / and /benchmarks/latest"
        },
        {
          "path": "/Users/fabiencampana/Documents/imageforge-site/.github/workflows/quality-gates.yml",
          "line": 42,
          "note": "advisory CI execution for unit/e2e/visual/lhci"
        }
      ],
      "impact": "Primary UI interaction regressions now have automated detection before merge.",
      "recommendation": "Keep these suites green and tune flake before promoting any subset to blocking.",
      "owner": "Site Frontend QA",
      "verification": [
        "pnpm test:unit",
        "pnpm test:e2e",
        "pnpm test:visual",
        "GitHub Actions check run: quality-gates-advisory (PR #28)"
      ]
    },
    {
      "id": "IF-SITE-UX-022",
      "repo": "imageforge-site",
      "domain": "UX/A11y/Motion",
      "severity": "Low",
      "deltaStatus": "New",
      "finding": "Animation safety gate now runs canonical + fixture checks and passed in this audit.",
      "evidence": [
        {
          "path": "/Users/fabiencampana/Documents/imageforge-site/scripts/animation/run-check.sh",
          "line": 79,
          "note": "canonical + fixture completion path"
        },
        {
          "path": "/Users/fabiencampana/Documents/imageforge-site/scripts/animation/assert-core-safety.mts",
          "line": 86,
          "note": "pass output path"
        },
        {
          "path": "/tmp/imageforge-audit/site-main-2xX1Hb/.tmp/animation/matrix-fixture.json",
          "line": 2,
          "note": "fresh matrix generated during audit"
        }
      ],
      "impact": "Core safety controls are now continuously verifiable.",
      "recommendation": "Keep strict gates for safety and advisory scoring for style density.",
      "owner": "Site UX",
      "verification": ["pnpm run animation:check"]
    },
    {
      "id": "IF-SITE-SEO-023",
      "repo": "imageforge-site",
      "domain": "SEO Tooling Quality",
      "severity": "Medium",
      "deltaStatus": "Resolved",
      "finding": "Resolved in Phase 6B: H1 auditing now supports per-route rendered HTML checks via SEO_AUDIT_BASE_URL with explicit source-fallback signaling.",
      "evidence": [
        {
          "path": "/Users/fabiencampana/Documents/imageforge-site/scripts/seo/config.mjs",
          "line": 25,
          "note": "SEO_AUDIT_BASE_URL added to config contract with URL validation"
        },
        {
          "path": "/Users/fabiencampana/Documents/imageforge-site/scripts/seo/technical.mjs",
          "line": 287,
          "note": "collectRenderedRouteH1Entries fetches route output and counts rendered <h1>"
        },
        {
          "path": "/Users/fabiencampana/Documents/imageforge-site/scripts/seo/technical.mjs",
          "line": 614,
          "note": "runTechnicalChecks selects rendered audit path when auditBaseUrl is configured"
        },
        {
          "path": "/Users/fabiencampana/Documents/imageforge-site/scripts/seo/__tests__/technical.test.mjs",
          "line": 164,
          "note": "rendered vs source-fallback evidence behavior covered by tests"
        }
      ],
      "impact": "H1 audit signal is route-scoped and materially less noisy when render-audit mode is enabled.",
      "recommendation": "Use SEO_AUDIT_BASE_URL in CI/governance contexts where rendered route output is available and keep fallback evidence explicit.",
      "owner": "Site SEO",
      "verification": ["pnpm run seo:test", "pnpm run check:ci"]
    },
    {
      "id": "IF-SITE-SEO-024",
      "repo": "imageforge-site",
      "domain": "SEO Signal Noise",
      "severity": "Low",
      "deltaStatus": "Resolved",
      "finding": "Resolved in Phase 6B: placeholder domains now skip off-page public checks, and required CI SEO runs deterministic technical/content suites only.",
      "evidence": [
        {
          "path": "/Users/fabiencampana/Documents/imageforge-site/scripts/seo/offpage.mjs",
          "line": 110,
          "note": "placeholder URLs explicitly skip public crawlability/metadata checks"
        },
        {
          "path": "/Users/fabiencampana/Documents/imageforge-site/package.json",
          "line": 22,
          "note": "check:ci now runs seo:check:deterministic"
        },
        {
          "path": "/Users/fabiencampana/Documents/imageforge-site/.github/workflows/ci.yml",
          "line": 265,
          "note": "CI seo job executes deterministic suite command"
        }
      ],
      "impact": "PR/main SEO CI output is deterministic and avoids predictable placeholder-domain off-page warning noise.",
      "recommendation": "Keep full off-page checks in governance cadence workflows and retain deterministic SEO suites in required CI.",
      "owner": "Site SEO",
      "verification": ["pnpm run seo:test", "pnpm run check:ci", "GitHub Actions: CI (PR #41)"]
    },
    {
      "id": "IF-SITE-SEC-025",
      "repo": "imageforge-site",
      "domain": "Web Security Hardening",
      "severity": "Medium",
      "deltaStatus": "Resolved",
      "finding": "Resolved in Phase 5: baseline security headers are configured in Next.js and validated by E2E assertions.",
      "evidence": [
        {
          "path": "/Users/fabiencampana/Documents/imageforge-site/next.config.ts",
          "line": 3,
          "note": "securityHeaders policy defined"
        },
        {
          "path": "/Users/fabiencampana/Documents/imageforge-site/next.config.ts",
          "line": 37,
          "note": "headers() applies policy to all routes"
        },
        {
          "path": "/Users/fabiencampana/Documents/imageforge-site/tests/e2e/landing-and-benchmark.smoke.spec.ts",
          "line": 64,
          "note": "E2E checks required headers on landing and benchmark routes"
        }
      ],
      "impact": "Defense-in-depth browser protections are now emitted consistently on key routes.",
      "recommendation": "Keep header policy in Next config and maintain E2E assertions for / and /benchmarks/latest.",
      "owner": "Site Security",
      "verification": ["pnpm run test:e2e"]
    },
    {
      "id": "IF-SITE-MAINT-026",
      "repo": "imageforge-site",
      "domain": "Content IA",
      "severity": "Low",
      "deltaStatus": "Resolved",
      "finding": "Resolved in Phase 6C: site now includes first-party /docs and /contact routes, linked from landing surfaces and included in sitemap + E2E coverage.",
      "evidence": [
        {
          "path": "/Users/fabiencampana/Documents/imageforge-site/app/docs/page.tsx",
          "line": 13,
          "note": "first-party docs route with route-level H1"
        },
        {
          "path": "/Users/fabiencampana/Documents/imageforge-site/app/contact/page.tsx",
          "line": 13,
          "note": "first-party contact route with route-level H1"
        },
        {
          "path": "/Users/fabiencampana/Documents/imageforge-site/components/landing/Hero.tsx",
          "line": 45,
          "note": "hero links to /docs and /contact"
        },
        {
          "path": "/Users/fabiencampana/Documents/imageforge-site/components/landing/HeaderNav.tsx",
          "line": 31,
          "note": "primary nav links to /docs and /contact"
        },
        {
          "path": "/Users/fabiencampana/Documents/imageforge-site/components/landing/FinalCtaFooter.tsx",
          "line": 25,
          "note": "footer links to docs/contact and runtime text updated to Node >=20"
        },
        {
          "path": "/Users/fabiencampana/Documents/imageforge-site/app/sitemap.ts",
          "line": 22,
          "note": "sitemap includes /docs and /contact"
        },
        {
          "path": "/Users/fabiencampana/Documents/imageforge-site/tests/e2e/landing-and-benchmark.smoke.spec.ts",
          "line": 40,
          "note": "route smoke test covers docs/contact headings"
        }
      ],
      "impact": "First-party documentation and contact discoverability gaps are now closed without relying solely on external GitHub links.",
      "recommendation": "Keep /docs and /contact as maintained first-party routes and retain route smoke assertions in E2E coverage.",
      "owner": "Site Product + Growth",
      "verification": [
        "pnpm -C /Users/fabiencampana/Documents/imageforge-site run check:ci",
        "pnpm -C /Users/fabiencampana/Documents/imageforge-site run test:e2e",
        "GitHub Actions: CI + Animation Safety (PR #43)"
      ]
    },
    {
      "id": "IF-SITE-SEC-027",
      "repo": "imageforge-site",
      "domain": "CI Supply Chain",
      "severity": "Medium",
      "deltaStatus": "Resolved",
      "finding": "Resolved in Phase 5: site workflows are SHA-pinned and action-pinning policy is enforced in CI.",
      "evidence": [
        {
          "path": "/Users/fabiencampana/Documents/imageforge-site/.github/workflows/ci.yml",
          "line": 13,
          "note": "workflow-action-pinning required job"
        },
        {
          "path": "/Users/fabiencampana/Documents/imageforge-site/.github/workflows/ci.yml",
          "line": 150,
          "note": "security-audit job also uses pinned actions"
        },
        {
          "path": "/Users/fabiencampana/Documents/imageforge-site/scripts/security/check-workflow-action-pinning.mjs",
          "line": 1,
          "note": "policy script validates pinned refs"
        }
      ],
      "impact": "Floating-action drift is blocked automatically instead of relying on manual review consistency.",
      "recommendation": "Keep workflow-action-pinning required and update SHAs through action-update PRs.",
      "owner": "Site Platform + Security",
      "verification": [
        "node scripts/security/check-workflow-action-pinning.mjs",
        "GitHub Actions job: workflow-action-pinning"
      ]
    },
    {
      "id": "IF-X-VAL-028",
      "repo": "imageforge",
      "domain": "Quality Gate Health",
      "severity": "Medium",
      "deltaStatus": "Resolved",
      "finding": "Resolved in Phase 4: formatting drift on audit artifacts was normalized and check is green again on main.",
      "evidence": [
        {
          "path": "/Users/fabiencampana/Documents/ImageForge/docs/audits/2026-02-19-main-cross-repo-findings.md",
          "line": 1,
          "note": "formatted audit artifact committed"
        },
        {
          "path": "/Users/fabiencampana/Documents/ImageForge/docs/audits/2026-02-19-main-cross-repo-findings.json",
          "line": 1,
          "note": "formatted audit artifact committed"
        },
        {
          "path": "/Users/fabiencampana/Documents/ImageForge/package.json",
          "line": 75,
          "note": "check gate includes format:check and now passes"
        }
      ],
      "impact": "Local and CI quality-gate parity is restored for release checks.",
      "recommendation": "Keep audit artifacts formatting-stable and preserve check gate strictness.",
      "owner": "CLI Maintainers",
      "verification": ["pnpm run check"]
    },
    {
      "id": "IF-X-VAL-029",
      "repo": "imageforge-site",
      "domain": "Security Validation Reliability",
      "severity": "Medium",
      "deltaStatus": "Resolved",
      "finding": "Resolved in Phase 5: prod dependency auditing retries transient failures and falls back to OSV with fail-closed behavior.",
      "evidence": [
        {
          "path": "/Users/fabiencampana/Documents/imageforge-site/scripts/security/audit-prod-deps.mjs",
          "line": 5,
          "note": "retry configuration for primary scanner"
        },
        {
          "path": "/Users/fabiencampana/Documents/imageforge-site/scripts/security/audit-prod-deps.mjs",
          "line": 214,
          "note": "retry loop + fallback orchestration"
        },
        {
          "path": "/Users/fabiencampana/Documents/imageforge-site/.github/workflows/ci.yml",
          "line": 150,
          "note": "dedicated security-audit job executes reliable wrapper"
        },
        {
          "path": "/Users/fabiencampana/Documents/imageforge-site/package.json",
          "line": 27,
          "note": "audit:prod:reliable script entrypoint"
        }
      ],
      "impact": "Security audit gate is deterministic even when npm audit has transient outages.",
      "recommendation": "Retain retry/fallback fail-closed logic and periodically exercise fallback path.",
      "owner": "Site Platform",
      "verification": ["pnpm run audit:prod:reliable", "GitHub Actions job: security-audit"]
    },
    {
      "id": "IF-X-SEC-030",
      "repo": "imageforge",
      "domain": "Cross-Repo Supply Chain",
      "severity": "Medium",
      "deltaStatus": "Resolved",
      "finding": "Resolved in Phase 5: both repos enforce a unified SHA-pinning workflow policy with CI checks.",
      "evidence": [
        {
          "path": "/Users/fabiencampana/Documents/ImageForge/.github/workflows/ci.yml",
          "line": 13,
          "note": "workflow-action-pinning required job in CLI repo"
        },
        {
          "path": "/Users/fabiencampana/Documents/ImageForge/.github/workflows/benchmark-ci.yml",
          "line": 257,
          "note": "benchmark publish job uses pinned setup actions"
        },
        {
          "path": "/Users/fabiencampana/Documents/ImageForge/scripts/security/check-workflow-action-pinning.mjs",
          "line": 1,
          "note": "CLI repo policy checker"
        },
        {
          "path": "/Users/fabiencampana/Documents/imageforge-site/.github/workflows/ci.yml",
          "line": 13,
          "note": "workflow-action-pinning required job in site repo"
        },
        {
          "path": "/Users/fabiencampana/Documents/imageforge-site/scripts/security/check-workflow-action-pinning.mjs",
          "line": 1,
          "note": "site repo policy checker"
        }
      ],
      "impact": "Cross-repo workflow supply-chain policy is now consistent and automatically enforced.",
      "recommendation": "Keep both policy checks required and update pinned SHAs through automated action dependency PRs.",
      "owner": "Platform/SecOps",
      "verification": [
        "node /Users/fabiencampana/Documents/ImageForge/scripts/security/check-workflow-action-pinning.mjs",
        "node /Users/fabiencampana/Documents/imageforge-site/scripts/security/check-workflow-action-pinning.mjs"
      ]
    },
    {
      "id": "IF-X-DX-031",
      "repo": "imageforge",
      "domain": "CLI UX",
      "severity": "Low",
      "deltaStatus": "Resolved",
      "finding": "Check mode now provides per-file needs-processing output in addition to rerun command.",
      "evidence": [
        {
          "path": "/Users/fabiencampana/Documents/ImageForge/src/runner.ts",
          "line": 893,
          "note": "per-file needs-processing log line"
        },
        {
          "path": "/Users/fabiencampana/Documents/ImageForge/src/runner.ts",
          "line": 1061,
          "note": "aggregate rerun command still present"
        }
      ],
      "impact": "Improved CI/debug feedback compared with prior audit baseline.",
      "recommendation": "Maintain this behavior and preserve parity in JSON mode metadata.",
      "owner": "CLI Product",
      "verification": ["imageforge <dir> --check output inspection"]
    },
    {
      "id": "IF-X-TEST-032",
      "repo": "imageforge + imageforge-site",
      "domain": "Coverage Strategy",
      "severity": "Medium",
      "deltaStatus": "Changed",
      "finding": "Coverage governance now includes advisory coverage artifacts, fault-injection pilots, and a CLI mutation-testing advisory pilot with published artifacts; full closure still requires broader mutation policy/coverage (including site-side mutation signal).",
      "evidence": [
        {
          "path": "/Users/fabiencampana/Documents/ImageForge/.github/workflows/ci.yml",
          "line": 128,
          "note": "coverage advisory job retained"
        },
        {
          "path": "/Users/fabiencampana/Documents/ImageForge/.github/workflows/ci.yml",
          "line": 173,
          "note": "fault-injection advisory job retained"
        },
        {
          "path": "/Users/fabiencampana/Documents/ImageForge/.github/workflows/ci.yml",
          "line": 220,
          "note": "mutation advisory job added"
        },
        {
          "path": "/Users/fabiencampana/Documents/ImageForge/stryker.conf.mjs",
          "line": 1,
          "note": "CLI mutation pilot configuration"
        },
        {
          "path": "/Users/fabiencampana/Documents/ImageForge/scripts/testing/summarize-mutation-report.mjs",
          "line": 1,
          "note": "CI mutation summary + machine-readable artifact helper"
        },
        {
          "path": "/Users/fabiencampana/Documents/imageforge-site/.github/workflows/quality-gates.yml",
          "line": 51,
          "note": "site coverage advisory remains active"
        },
        {
          "path": "/Users/fabiencampana/Documents/imageforge-site/.github/workflows/quality-gates.yml",
          "line": 60,
          "note": "site fault-injection advisory remains active"
        }
      ],
      "impact": "Regression signal depth is materially stronger and now includes mutation artifacts on CLI critical paths, but policy remains advisory and incomplete cross-repo.",
      "recommendation": "Keep mutation advisory pilot running and plan a follow-on phase for mutation thresholds + site-side mutation signal before marking this area fully resolved.",
      "owner": "CLI QA + Site QA",
      "verification": [
        "pnpm run test:mutation:pilot",
        "GitHub Actions: CI (PR #63) mutation advisory artifact upload",
        "Existing coverage/fault-injection advisory artifacts in both repos"
      ]
    },
    {
      "id": "IF-SITE-UX-033",
      "repo": "imageforge-site",
      "domain": "Motion Quality",
      "severity": "Medium",
      "deltaStatus": "Resolved",
      "finding": "Resolved in Phase 3: motion-quality regression detection now includes Lighthouse CI lab checks and Playwright visual diffs for critical landing/benchmark states.",
      "evidence": [
        {
          "path": "/Users/fabiencampana/Documents/imageforge-site/lighthouserc.json",
          "line": 4,
          "note": "LHCI collects / and /benchmarks/latest with advisory assertions"
        },
        {
          "path": "/Users/fabiencampana/Documents/imageforge-site/tests/visual/landing.visual.spec.ts",
          "line": 15,
          "note": "committed screenshot baseline for landing hero/install area"
        },
        {
          "path": "/Users/fabiencampana/Documents/imageforge-site/tests/visual/benchmark.visual.spec.ts",
          "line": 15,
          "note": "committed screenshot baseline for benchmark hero/summary area"
        },
        {
          "path": "/Users/fabiencampana/Documents/imageforge-site/.github/workflows/quality-gates.yml",
          "line": 89,
          "note": "advisory CI execution of LHCI and visual suites with artifact retention"
        }
      ],
      "impact": "Visual/motion drift now has automated lab and screenshot signals beyond structural safety checks.",
      "recommendation": "Keep advisory posture while calibrating thresholds and false-positive rates before any blocking transition.",
      "owner": "Site UX + Perf",
      "verification": [
        "pnpm lhci",
        "pnpm test:visual",
        "GitHub Actions check run: quality-gates-advisory (PR #28)"
      ]
    }
  ],
  "decisionAddendum": {
    "title": "Animation Quality Tooling Decisions (Discussion Outcome)",
    "asOfDate": "2026-02-19",
    "implementationState": "phase-3-implemented-advisory",
    "lockedDecisions": [
      {
        "item": "Adopt Lighthouse CI (@lhci/cli) for lab LCP/INP/CLS trend checks",
        "initialGateMode": "non-blocking",
        "rationale": "Complements field telemetry with reproducible lab regression signal"
      },
      {
        "item": "Adopt Playwright visual diff snapshots for targeted critical routes/states",
        "initialGateMode": "non-blocking",
        "rationale": "Adds visual regression signal with controlled scope to reduce churn"
      },
      {
        "item": "Add Vitest baseline for unit/integration tests",
        "initialGateMode": "non-blocking-introduction",
        "rationale": "Improve low-latency test coverage on practical logic surfaces"
      },
      {
        "item": "Expand Playwright E2E coverage",
        "initialGateMode": "non-blocking-introduction",
        "rationale": "Increase route-level UX and interaction confidence on / and /benchmarks/latest"
      },
      {
        "item": "Defer Storybook and do not use vdiff in CI for now",
        "initialGateMode": "deferred",
        "rationale": "Prioritize high-signal quality gates over catalog/workflow overhead"
      }
    ],
    "baselineContext": [
      {
        "item": "Vercel Analytics and Speed Insights already mounted",
        "evidence": [
          "/Users/fabiencampana/Documents/imageforge-site/app/layout.tsx:81",
          "/Users/fabiencampana/Documents/imageforge-site/components/analytics/VercelAnalytics.tsx:23",
          "/Users/fabiencampana/Documents/imageforge-site/components/analytics/VercelSpeedInsights.tsx:9"
        ]
      },
      {
        "item": "Animation safety automation already present (collector/assertions/runner/workflow)",
        "evidence": [
          "/Users/fabiencampana/Documents/imageforge-site/scripts/animation/collect-matrix.mts:73",
          "/Users/fabiencampana/Documents/imageforge-site/scripts/animation/assert-core-safety.mts:60",
          "/Users/fabiencampana/Documents/imageforge-site/scripts/animation/run-check.sh:43",
          "/Users/fabiencampana/Documents/imageforge-site/.github/workflows/animation-safety.yml:1"
        ]
      }
    ]
  }
}
